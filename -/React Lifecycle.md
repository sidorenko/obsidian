#reactjs
```table-of-contents
```
![[Pasted image 20240313154220.png]]
![[Pasted image 20240313155440.png]]
Жизненный цикл компонента в React - это набор фаз, через которые проходит компонент в ходе своего существования. Эти фазы включают монтирование (когда компонент впервые вставляется в DOM), обновление (когда изменяются пропсы или состояние компонента), и размонтирование (когда компонент удаляется из DOM).

В классовых компонентах React эти фазы представлены методами жизненного цикла:

#### Фаза монтирования

- `constructor(props)`: Здесь инициализируется состояние и привязываются обработчики событий.
- `static getDerivedStateFromProps(props, state)`: Этот метод вызывается сразу после создания объекта компонента и перед вызовом `render()`. Он возвращает объект, который будет объединен с текущим состоянием, или `null`, если не требуется обновление состояния.
- `render()`: Этот метод возвращает элемент React, который будет отрендерен в DOM.
- `componentDidMount()`: Этот метод вызывается сразу после того, как компонент был вставлен в DOM. Здесь обычно происходит выгрузка данных, работа с API, подписка на события и т.д.
#### Фаза обновления

Отправляется, когда компонент обновляется, когда меняются его пропсы или состояние.

- `static getDerivedStateFromProps(props, state)`
- `shouldComponentUpdate(nextProps, nextState)`: Этот метод определяет, должен ли компонент обновляться в ответ на изменение пропсов или состояния. Он возвращает `true` или `false`.
- `render()`
- `getSnapshotBeforeUpdate(prevProps, prevState)`: Этот метод вызывается прямо перед тем, как в DOM будут внесены изменения. Он позволяет захватить некоторую информацию из DOM (например, положение скролла) перед его потенциальными изменениями.
- `componentDidUpdate(prevProps, prevState, snapshot)`: Этот метод вызывается сразу после обновления компонента. Он принимает предыдущие пропсы, состояние и снимок (если он есть) в качестве параметров.
#### Фаза размонтирования

- `componentWillUnmount()`: Этот метод вызывается непосредственно перед тем, как компонент будет удален из DOM. Здесь выполняется очистка: отписка от событий, отмена запросов и т.д.

С введением хуков в React (с версии 16.8), вы можете использовать `useEffect` для выполнения побочных эффектов, аналогично методам жизненного цикла в классовых компонентах.